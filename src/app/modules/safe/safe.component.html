<div class="card flex justify-content-between">
    <p-button label="جرد القاصة" styleClass="p-button-outlined p-button-warning"></p-button>
    <div style="padding: 0.2rem 0.5rem; font-weight: 500; display: flex;   color: #FFFFFF;    color: #FFFFFF;background-color: skyblue;justify-content: center;
    animation: auto;
    align-items: center;
    border-radius: 10px;">
        {{safeBalanceIQD}} <span>دينار عراقي</span> </div>
    <div style="padding: 0.2rem 0.5rem;    color: #FFFFFF; display: flex;   font-weight: 500;background-color: lightgreen;justify-content: center;
    animation: auto;
    align-items: center;
    border-radius: 10px;">
        {{safeBalanceUSD}} <span>دولار أمريكي</span></div>
    <button (click)="showDialog()" icon="pi pi-plus" pButton pRipple label="إضافة" class="p-button-success"></button>
</div>
<p-dialog header="اضافة قاصة" [(visible)]="visible" [breakpoints]="{ '960px': '75vw' }" [style]="{ width: '50vw' }"
    [draggable]="true" [resizable]="true">
    <div class="flex justify-content-between">
        <div class="">
            <span>نوع المعاملة</span>
            <div class="pt-2">
                <p-dropdown [options]="transactionTypes" [(ngModel)]="transactionType" optionLabel="name"
                (onChange)='getTransactionName(transactionType)'></p-dropdown>
            </div>
        </div>
        <div class="">
            <span>أسم المعاملة</span>
            <div class="pt-2">
                <p-dropdown [options]="transactionNames" [(ngModel)]="transactionName" optionLabel="name"></p-dropdown>
            </div>
        </div>
        <div class="">
            <span>طرف المعاملة</span>
            <div class="pt-2">
                <p-dropdown [options]="transactionSides" [(ngModel)]="transactionSide" optionLabel="accountant"></p-dropdown>
            </div>
        </div>
    </div>
    <div class="flex justify-content-between">
        <div class="">
            <span>مبلغ المعاملة د.ع</span>
            <div class="pt-2">
                <p-inputNumber mode="decimal" inputId="withoutgrouping" [useGrouping]="false">
                </p-inputNumber>
            </div>
        </div>
        <div class="">
            <span>مبلغ المعاملة $</span>
            <div class="pt-2">
                <p-inputNumber mode="decimal" inputId="withoutgrouping" [useGrouping]="false">
                </p-inputNumber>
            </div>
        </div>
        <div class="">
            <span>ملاحظات</span>
            <form>
                <textarea rows="5" cols="30" pInputTextarea formControlName="text"></textarea>
            </form>
        </div>
    </div>
    <div class="flex justify-content-between">
        <div class="">
            <span>تمت من خلال</span>
            <div class="pt-2">
                <p-dropdown [editable]="true" optionLabel="name"></p-dropdown>
            </div>
        </div>
        <div class="">
            <span>الرصيد قبل د.ع</span>
            <div class="pt-2">
                <p-inputNumber mode="decimal" inputId="withoutgrouping" [useGrouping]="false">
                </p-inputNumber>
            </div>
        </div>
        <div class="">
            <span>الرصيد قبل $</span>
            <div class="pt-2">
                <p-inputNumber mode="decimal" inputId="withoutgrouping" [useGrouping]="false">
                </p-inputNumber>
            </div>
        </div>
    </div>
    <div class="flex justify-content-between">
        <div class="">
            <span>فرع</span>
            <div class="pt-2">
                <p-dropdown [editable]="true" optionLabel="name"></p-dropdown>
            </div>
        </div>
    </div>
    <div class="flex justify-content-between pt-3">
        <button (click)="showDialog()" icon="pi pi-thumbs-up" pButton pRipple label="حفظ"
            class="p-button-success"></button>
    </div>
</p-dialog>
<div class="card">
    <p-table [value]="products" [paginator]="true" [rows]="5" selectionMode="single" [showCurrentPageReport]="true"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
        [rowsPerPageOptions]="[10, 25, 50]" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header">
            <tr>
                <th class="tab-header">رقم الدفعة</th>
                <th class="tab-header">الرصيد قبل د.ع</th>
                <th class="tab-header">مبلغ المعاملة د.ع</th>
                <th class="tab-header">الرصيد بعد د.ع</th>
                <th class="tab-header">نوع المعاملة</th>
                <th class="tab-header">أسم المعاملة</th>
                <th class="tab-header">الرصيد قبل $</th>
                <th class="tab-header">مبلغ المعاملة $</th>
                <th class="tab-header">الرصيد بعد $</th>
                <th class="tab-header">تاريخ المعاملة</th>
                <th class="tab-header">تمت من خلال</th>
                <th class="tab-header">ملاحظات</th>
                <th class="tab-header"></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-product>
            <tr>
                <td>{{ product.safeId }}</td>
                <td>{{ product.safeBeforeTransactionIqDinar }}</td>
                <td>{{ product.safeAmountIqDinar }}</td>
                <td>{{ product.safeAfterTransactionIqDinar }}</td>
                <td>
                    <span *ngIf="product.transactionType =='CR_SAFE'">إيداع</span>
                    <span *ngIf="product.transactionType =='DB_SAFE'">سحب</span>
                </td>
                <td>{{ product.transactionName }}</td>
                <td>{{ product.safeBeforeTransactionUSD }}</td>
                <td>{{ product.safeAmountUSD }}</td>
                <td>{{ product.safeAfterTransactionUSD }}</td>
                <td>{{ product.transactionDate | filterDate }}</td>


                <td>{{ product.safeCreatedBy }}</td>
                <td>{{ product.rmk }}</td>
                <td>
                    <p-button icon="pi pi-trash" styleClass="p-button-outlined p-button-danger"></p-button>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>